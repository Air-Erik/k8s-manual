# NSX-T Network Setup

> **–°—Ç–∞—Ç—É—Å:** üü° IN PROGRESS (–≠—Ç–∞–ø –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è)
> **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** AI-–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å + –û–ø–µ—Ä–∞—Ç–æ—Ä
> **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –î–æ—Å—Ç—É–ø –∫ NSX-T Manager

---

## ‚ö†Ô∏è –í–ê–ñ–ù–û: –ù–∞—á–Ω–∏—Ç–µ —Å –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è

**NSX-T –±—ã–ª —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç –Ω–µ –Ω–∞–º–∏ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø–æ–¥ Tanzu Supervisor.**

–ü–µ—Ä–µ–¥ –≤–Ω–µ—Å–µ–Ω–∏–µ–º –∏–∑–º–µ–Ω–µ–Ω–∏–π –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ:
1. **–ò–∑—É—á–∏—Ç—å –æ—Å–Ω–æ–≤—ã NSX-T** (–µ—Å–ª–∏ –Ω–µ –∑–Ω–∞–∫–æ–º—ã)
2. **–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é** (—á—Ç–æ —É–∂–µ –µ—Å—Ç—å)
3. **–ü—Ä–∏–Ω—è—Ç—å —Ä–µ—à–µ–Ω–∏–µ:** –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Å–µ–≥–º–µ–Ω—Ç "VIP-VM" –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π
4. **–¢–æ–ª—å–∫–æ –ø–æ—Ç–æ–º** –≤–Ω–æ—Å–∏—Ç—å –∏–∑–º–µ–Ω–µ–Ω–∏—è

### üëâ –ü–µ—Ä–µ—Ö–æ–¥–∏—Ç–µ –∫ –¥–µ—Ç–∞–ª—å–Ω–æ–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏:
**[research/nsx-analysis/AI-AGENT-TASK.md](../research/nsx-analysis/AI-AGENT-TASK.md)**

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Å–æ–¥–µ—Ä–∂–∏—Ç:
- –û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã –ø–æ NSX-T –¥–ª—è Kubernetes
- –û–ø—Ä–æ—Å–Ω–∏–∫ –¥–ª—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏
- –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏–π
- –ü–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ (–ø–æ—Å–ª–µ –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è)
- –ß–µ–∫-–ª–∏—Å—Ç –≤–∞–ª–∏–¥–∞—Ü–∏–∏

---

## –¶–µ–ª—å (—Ñ–∏–Ω–∞–ª—å–Ω–∞—è)
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å NSX-T —Å–µ–≥–º–µ–Ω—Ç –¥–ª—è Kubernetes-–Ω–æ–¥, IP-–∞–¥—Ä–µ—Å–∞—Ü–∏—é, DFW-–ø—Ä–∞–≤–∏–ª–∞ –∏ SpoofGuard whitelist.

## –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –Ω–∞ –≤—ã—Ö–æ–¥–µ
–ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
- [ ] **–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã** (–≤ `research/nsx-analysis/`)
  - –û—Å–Ω–æ–≤—ã NSX-T
  - Tanzu vs Standalone Kubernetes –Ω–∞ NSX
  - –°–µ—Ç–µ–≤—ã–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è Kubernetes
- [ ] **–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏** (`research/nsx-analysis/05-investigation-results.md`)
- [ ] **–†–µ—à–µ–Ω–∏–µ:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å VIP-VM –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—ã–π —Å–µ–≥–º–µ–Ω—Ç (`research/nsx-analysis/06-decision-analysis.md`)
- [ ] **–ü–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏** –ø–æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ NSX
- [ ] **NSX-T Segment** –≥–æ—Ç–æ–≤ –¥–ª—è k8s-–Ω–æ–¥
- [ ] **IP-–ø–ª–∞–Ω –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω** (VM subnet, API VIP, MetalLB pool)
- [ ] **DFW-–ø—Ä–∞–≤–∏–ª–∞** –¥–ª—è –≥—Ä—É–ø–ø—ã `k8s-nodes` –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã
- [ ] **SpoofGuard whitelist** –¥–ª—è VIP –∏ MetalLB –Ω–∞—Å—Ç—Ä–æ–µ–Ω
- [ ] **MTU –ø—Ä–æ–≤–µ—Ä–µ–Ω** end-to-end
- [ ] **–§–∏–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã** –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤:
  - `nsx-configs/segments.md`
  - `nsx-configs/spoofguard-whitelist.md`
  - `nsx-configs/dfw-rules.json` (—ç–∫—Å–ø–æ—Ä—Ç)

## –ó–∞–¥–∞—á–∏

### –≠—Ç–∞–ø 1: –ò—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ (START HERE)
- [ ] AI-–∞–≥–µ–Ω—Ç —Å–æ–∑–¥–∞—ë—Ç –æ–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω—ã–µ –º–∞—Ç–µ—Ä–∏–∞–ª—ã
- [ ] –û–ø–µ—Ä–∞—Ç–æ—Ä –∏–∑—É—á–∞–µ—Ç –æ—Å–Ω–æ–≤—ã NSX-T
- [ ] –û–ø–µ—Ä–∞—Ç–æ—Ä –∏—Å—Å–ª–µ–¥—É–µ—Ç —Ç–µ–∫—É—â—É—é –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é (—Å–µ–≥–º–µ–Ω—Ç VIP-VM, DFW, SpoofGuard)
- [ ] –û–ø–µ—Ä–∞—Ç–æ—Ä –∑–∞–ø–æ–ª–Ω—è–µ—Ç –æ–ø—Ä–æ—Å–Ω–∏–∫ `research/nsx-analysis/05-investigation-results.md`

### –≠—Ç–∞–ø 2: –ê–Ω–∞–ª–∏–∑ –∏ —Ä–µ—à–µ–Ω–∏–µ
- [ ] AI-–∞–≥–µ–Ω—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –¥–∞–Ω–Ω—ã–µ
- [ ] AI-–∞–≥–µ–Ω—Ç –¥–∞—ë—Ç —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—é: VIP-VM vs –Ω–æ–≤—ã–π —Å–µ–≥–º–µ–Ω—Ç
- [ ] –û–ø–µ—Ä–∞—Ç–æ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç —Ñ–∏–Ω–∞–ª—å–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –≠—Ç–∞–ø 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ (–ø–æ—Å–ª–µ —Ä–µ—à–µ–Ω–∏—è)
- [ ] AI-–∞–≥–µ–Ω—Ç —Å–æ–∑–¥–∞—ë—Ç –ø–æ—à–∞–≥–æ–≤—ã–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ (–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ—à–µ–Ω–∏—è)
- [ ] –û–ø–µ—Ä–∞—Ç–æ—Ä –ø—Ä–∏–º–µ–Ω—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –≤ NSX UI:
- [ ] –°–µ–≥–º–µ–Ω—Ç –≥–æ—Ç–æ–≤ (VIP-VM –∏–ª–∏ –Ω–æ–≤—ã–π k8s-nodes)
- [ ] IP-–ø–ª–∞–Ω –∑–∞—Ä–µ–∑–µ—Ä–≤–∏—Ä–æ–≤–∞–Ω
- [ ] –ì—Ä—É–ø–ø–∞ `k8s-nodes` —Å–æ–∑–¥–∞–Ω–∞ –≤ NSX
- [ ] DFW rules –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã (allow inter-node, NodePort, egress)
- [ ] SpoofGuard whitelist –Ω–∞—Å—Ç—Ä–æ–µ–Ω (VIP + MetalLB pool)
- [ ] MTU –ø—Ä–æ–≤–µ—Ä–µ–Ω (NSX overlay vs VM vNIC)

### –≠—Ç–∞–ø 4: –í–∞–ª–∏–¥–∞—Ü–∏—è
- [ ] –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–µ VM –≤ —Å–µ–≥–º–µ–Ω—Ç–µ
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å connectivity (ping gateway, ping –º–µ–∂–¥—É VM)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å external access (Internet, DNS)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å MTU (ping —Å –±–æ–ª—å—à–∏–º–∏ –ø–∞–∫–µ—Ç–∞–º–∏)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å SpoofGuard (secondary IP –Ω–∞ VM, ARP —Ä–∞–±–æ—Ç–∞–µ—Ç)
- [ ] –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å —Ñ–∏–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –≤ `nsx-configs/`

---

## –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç –¥–ª—è AI-–∞–≥–µ–Ω—Ç–∞

–ï—Å–ª–∏ —Ç—ã AI-–∞–≥–µ–Ω—Ç, –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–π –Ω–∞ —ç—Ç—É –∑–∞–¥–∞—á—É:

1. **–ü—Ä–æ—á–∏—Ç–∞–π** [research/nsx-analysis/AI-AGENT-TASK.md](../research/nsx-analysis/AI-AGENT-TASK.md)
2. **–ù–∞—á–Ω–∏ —Å –≠—Ç–∞–ø–∞ 1** (–û–±—Ä–∞–∑–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è —á–∞—Å—Ç—å)
3. **–°–æ–∑–¥–∞–≤–∞–π –∞—Ä—Ç–µ—Ñ–∞–∫—Ç—ã** –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ (01, 02, 03, ...)
4. **–í–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É–π** —Å –æ–ø–µ—Ä–∞—Ç–æ—Ä–æ–º —á–µ—Ä–µ–∑ questionnaire
5. **–î–∞–≤–∞–π —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏** –Ω–∞ –æ—Å–Ω–æ–≤–µ —Å–æ–±—Ä–∞–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
6. **–°–æ–∑–¥–∞–≤–∞–π –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏** –ø–æ—Å–ª–µ –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è

---

## –ö—Ä–∏—Ç–µ—Ä–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∑–∞–¥–∞—á–∏

–ó–∞–¥–∞—á–∞ —Å—á–∏—Ç–∞–µ—Ç—Å—è –∑–∞–≤–µ—Ä—à—ë–Ω–Ω–æ–π, –∫–æ–≥–¥–∞:

‚úÖ –û–ø–µ—Ä–∞—Ç–æ—Ä –ø–æ–Ω–∏–º–∞–µ—Ç –æ—Å–Ω–æ–≤—ã NSX-T
‚úÖ –¢–µ–∫—É—â–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è NSX –∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∞
‚úÖ –†–µ—à–µ–Ω–∏–µ –ø—Ä–∏–Ω—è—Ç–æ (VIP-VM –∏–ª–∏ –Ω–æ–≤—ã–π —Å–µ–≥–º–µ–Ω—Ç)
‚úÖ NSX –Ω–∞—Å—Ç—Ä–æ–µ–Ω –ø–æ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º
‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è –ø—Ä–æ–π–¥–µ–Ω–∞ (—Ç–µ—Å—Ç–æ–≤—ã–µ VM —Ä–∞–±–æ—Ç–∞—é—Ç)
‚úÖ –§–∏–Ω–∞–ª—å–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤ `nsx-configs/`
‚úÖ –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –≥–æ—Ç–æ–≤—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤ Kubernetes setup (VM creation, kube-vip, MetalLB, Cilium)

---

**–°–ª–µ–¥—É—é—â–∏–π —à–∞–≥ –ø–æ—Å–ª–µ —ç—Ç–æ–π –∑–∞–¥–∞—á–∏:** –≠—Ç–∞–ø 0.2 ‚Äî VM Preparation (`docs/02-vm-preparation.md`)
