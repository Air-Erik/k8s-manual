# Cluster Bootstrap (kubeadm + kube-vip)

> **–°—Ç–∞—Ç—É—Å:** üî¥ TODO
> **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** AI-–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å
> **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** VM-—à–∞–±–ª–æ–Ω –≥–æ—Ç–æ–≤ (02-vm-preparation.md), NSX-T –Ω–∞—Å—Ç—Ä–æ–µ–Ω (01)

## –¶–µ–ª—å
–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å Kubernetes Control Plane —Å HA —á–µ—Ä–µ–∑ kube-vip –∏ –ø—Ä–∏—Å–æ–µ–¥–∏–Ω–∏—Ç—å worker-–Ω–æ–¥—ã.

## –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –Ω–∞ –≤—ã—Ö–æ–¥–µ
- `kubeadm-config.yaml` –≤ `manifests/kube-vip/`
- kube-vip –º–∞–Ω–∏—Ñ–µ—Å—Ç Static Pod –≤ `manifests/kube-vip/`
- –°–∫—Ä–∏–ø—Ç `scripts/bootstrap-control-plane.sh`
- –°–∫—Ä–∏–ø—Ç `scripts/join-worker.sh`
- kubeconfig –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–ª–∞—Å—Ç–µ—Ä—É

## –ó–∞–¥–∞—á–∏
- [ ] –°–æ–∑–¥–∞—Ç—å 3 VM –¥–ª—è Control Plane –∏–∑ —à–∞–±–ª–æ–Ω–∞
- [ ] –°–æ–∑–¥–∞—Ç—å 2+ VM –¥–ª—è Workers
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å kube-vip Static Pod –Ω–∞ –ø–µ—Ä–≤–æ–π CP –Ω–æ–¥–µ
- [ ] –í—ã–ø–æ–ª–Ω–∏—Ç—å `kubeadm init` –Ω–∞ –ø–µ—Ä–≤–æ–π CP –Ω–æ–¥–µ
- [ ] –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å kube-vip –Ω–∞ –æ—Å—Ç–∞–ª—å–Ω—ã–µ CP –Ω–æ–¥—ã
- [ ] Join –æ—Å—Ç–∞–ª—å–Ω—ã–µ CP –Ω–æ–¥—ã (`kubeadm join --control-plane`)
- [ ] Join Worker –Ω–æ–¥—ã (`kubeadm join`)
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å API VIP –¥–æ—Å—Ç—É–ø–µ–Ω
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –Ω–æ–¥—ã –≤ —Å—Ç–∞—Ç—É—Å–µ **Ready** (–±—É–¥–µ—Ç –ø–æ—Å–ª–µ CNI)

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

*TODO: –ë—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã AI-–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º —Å –ø–æ—à–∞–≥–æ–≤—ã–º–∏ –∫–æ–º–∞–Ω–¥–∞–º–∏.*

## –ü—Ä–æ–≤–µ—Ä–∫–∞
```bash
kubectl get nodes
kubectl get pods -A
curl -k https://<API-VIP>:6443/version
```
