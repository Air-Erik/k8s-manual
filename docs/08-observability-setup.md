# Observability Setup (metrics-server, Prometheus, Grafana)

> **–°—Ç–∞—Ç—É—Å:** üî¥ TODO
> **–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π:** AI-–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å
> **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:** –ö–ª–∞—Å—Ç–µ—Ä –±–∞–∑–æ–≤–æ —Ä–∞–±–æ—Ç–∞–µ—Ç (04-07 –≤—ã–ø–æ–ª–Ω–µ–Ω—ã)

## –¶–µ–ª—å
–ù–∞—Å—Ç—Ä–æ–∏—Ç—å –±–∞–∑–æ–≤—ã–π –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ observability –¥–ª—è –∫–ª–∞—Å—Ç–µ—Ä–∞.

## –ê—Ä—Ç–µ—Ñ–∞–∫—Ç—ã –Ω–∞ –≤—ã—Ö–æ–¥–µ
- metrics-server –º–∞–Ω–∏—Ñ–µ—Å—Ç—ã –≤ `manifests/observability/`
- (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) Prometheus + Grafana Helm values
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –¥–æ—Å—Ç—É–ø—É –∫ Grafana UI

## –ó–∞–¥–∞—á–∏
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å metrics-server
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `kubectl top nodes` –∏ `kubectl top pods`
- [ ] (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ –¥–ª—è Prod) –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Prometheus Operator
- [ ] (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Grafana
- [ ] (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ù–∞—Å—Ç—Ä–æ–∏—Ç—å ServiceMonitors –¥–ª—è Cilium, MetalLB, etc.
- [ ] (–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –¥–∞—à–±–æ—Ä–¥—ã –¥–ª—è Kubernetes

## –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏

*TODO: –ë—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã AI-–∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–º.*

## –ü—Ä–æ–≤–µ—Ä–∫–∞
```bash
kubectl top nodes
kubectl top pods -A
# –ï—Å–ª–∏ Grafana:
kubectl port-forward -n monitoring svc/grafana 3000:3000
# –û—Ç–∫—Ä—ã—Ç—å http://localhost:3000
```
