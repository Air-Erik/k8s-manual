# NAT Configuration for Kubernetes Cluster

> **–°—Ç–∞—Ç—É—Å:** üü¢ COMPLETED (–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–≤–µ—Ä—à–µ–Ω–∞)
> **–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-01-17
> **–û–ø–µ—Ä–∞—Ç–æ—Ä:** Ayrapetov_es

---

## –û–±–∑–æ—Ä

–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç —Ñ–∏–∫—Å–∏—Ä—É–µ—Ç **NAT –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é** –¥–ª—è –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–∞ –Ω–∞ T1-k8s-zeon-dev.

**–ü—Ä–∏–Ω—Ü–∏–ø:** 3 NAT –ø—Ä–∞–≤–∏–ª–∞ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é —Ç—Ä–∞—Ñ–∏–∫–∞ –æ—Ç k8s –Ω–æ–¥ (10.246.10.0/24) –∫ —Ä–∞–∑–ª–∏—á–Ω—ã–º –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è–º.

---

## NAT Architecture Overview

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ                    T1-k8s-zeon-dev                         ‚îÇ
‚îÇ                                                             ‚îÇ
‚îÇ  ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê   ‚îÇ
‚îÇ  ‚îÇ                NAT Rules (Priority)                 ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ                                                     ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  1. no_snat_to_internal                             ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ     Source: 10.246.10.0/24 ‚Üí Internal Networks    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ     Action: No-SNAT (preserve source IP)          ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ                                                     ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  2. no_snat_to_vips                                 ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ     Source: 10.246.10.0/24 ‚Üí 172.16.50.192/27      ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ     Action: No-SNAT (preserve source IP)          ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ                                                     ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ  3. snat_to_internet (catch-all)                    ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ     Source: 10.246.10.0/24 ‚Üí Any                   ‚îÇ   ‚îÇ
‚îÇ  ‚îÇ     Action: SNAT to 172.16.50.170                  ‚îÇ   ‚îÇ
‚îÇ  ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò   ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
```

---

## NAT Rules Details

### 1. No-SNAT –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º —Å–µ—Ç—è–º

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|---------|
| **Rule Name** | `no_snat_to_internal` |
| **Type** | `No-SNAT` |
| **Priority** | `1000` (–≤—ã—Å—à–∏–π) |
| **Source** | `10.246.10.0/24` |
| **Destination** | `Any` |
| **Translated IP** | `N/A` |
| **Applied To** | `T1-k8s-zeon-dev` |
| **Status** | `Active` |

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–π IP –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º —Å–µ—Ç—è–º
- –ü–æ–∑–≤–æ–ª—è–µ—Ç k8s –Ω–æ–¥–∞–º –æ–±—Ä–∞—â–∞—Ç—å—Å—è –∫ —Ä–µ–µ—Å—Ç—Ä–∞–º, CI/CD –±–µ–∑ NAT
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é –ø–æ IP

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
- –î–æ—Å—Ç—É–ø –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º Docker registry
- –û–±—Ä–∞—â–µ–Ω–∏–µ –∫ CI/CD —Å–∏—Å—Ç–µ–º–∞–º
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ API –≤—ã–∑–æ–≤—ã

---

### 2. No-SNAT –∫ VIP –ø—É–ª—É

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|---------|
| **Rule Name** | `no_snat_to_vips` |
| **Type** | `No-SNAT` |
| **Priority** | `1001` |
| **Source** | `10.246.10.0/24` |
| **Destination** | `172.16.50.192/27` |
| **Translated IP** | `N/A` |
| **Applied To** | `T1-k8s-zeon-dev` |
| **Status** | `Active` |

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
- –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –∏—Å—Ö–æ–¥–Ω—ã–π IP –ø—Ä–∏ –æ–±—Ä–∞—â–µ–Ω–∏–∏ –∫ Ingress VIP
- –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç hairpin –ø—Ä–æ–±–ª–µ–º—ã
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é —Ä–∞–±–æ—Ç—É health checks

**VIP Pool Details:**
- **Range:** `172.16.50.192/27` (32 IP)
- **Available IPs:** `172.16.50.193-222`
- **Usage:** MetalLB LoadBalancer services, Ingress VIP

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
- Health checks –æ—Ç k8s –Ω–æ–¥ –∫ Ingress VIP
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –≤—ã–∑–æ–≤—ã –∫ LoadBalancer services
- –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –∏ –º–µ—Ç—Ä–∏–∫–∏

---

### 3. SNAT –∫ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç—É (catch-all)

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –ó–Ω–∞—á–µ–Ω–∏–µ |
|----------|---------|
| **Rule Name** | `snat_to_internet` |
| **Type** | `SNAT` |
| **Priority** | `1002` (–Ω–∏–∑—à–∏–π) |
| **Source** | `10.246.10.0/24` |
| **Destination** | `Any` |
| **Translated IP** | `172.16.50.170` |
| **Applied To** | `T1-k8s-zeon-dev` |
| **Status** | `Active` |

**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:**
- –ú–∞—Å–∫–∏—Ä—É–µ—Ç –≤–µ—Å—å egress-—Ç—Ä–∞—Ñ–∏–∫ –≤ –æ–¥–∏–Ω –≤–Ω–µ—à–Ω–∏–π IP
- –û–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –¥–æ—Å—Ç—É–ø –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏—è upstream –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏
- –£–ø—Ä–æ—â–∞–µ—Ç firewall –ø—Ä–∞–≤–∏–ª–∞ –Ω–∞ –ø–µ—Ä–∏–º–µ—Ç—Ä–µ

**SNAT IP Details:**
- **IP:** `172.16.50.170`
- **Type:** Static allocation from 172.16.50.0/24 pool
- **Usage:** Egress traffic from k8s cluster

**–ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è:**
- –°–∫–∞—á–∏–≤–∞–Ω–∏–µ Docker images
- –û–±–Ω–æ–≤–ª–µ–Ω–∏—è –ø–∞–∫–µ—Ç–æ–≤
- API –≤—ã–∑–æ–≤—ã –∫ –≤–Ω–µ—à–Ω–∏–º —Å–µ—Ä–≤–∏—Å–∞–º

---

## Traffic Flow Examples

### 1. Egress –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç
```
k8s-node (10.246.10.10) ‚Üí 8.8.8.8
‚îú‚îÄ Matches: snat_to_internet
‚îú‚îÄ Source IP: 10.246.10.10 ‚Üí 172.16.50.170
‚îî‚îÄ Result: Internet access with SNAT
```

### 2. –î–æ—Å—Ç—É–ø –∫ Ingress VIP
```
k8s-node (10.246.10.10) ‚Üí 172.16.50.200 (Ingress VIP)
‚îú‚îÄ Matches: no_snat_to_vips
‚îú‚îÄ Source IP: 10.246.10.10 (preserved)
‚îî‚îÄ Result: No hairpin problems
```

### 3. –î–æ—Å—Ç—É–ø –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º —Å–µ—Ç—è–º
```
k8s-node (10.246.10.10) ‚Üí 172.16.100.50 (Internal API)
‚îú‚îÄ Matches: no_snat_to_internal
‚îú‚îÄ Source IP: 10.246.10.10 (preserved)
‚îî‚îÄ Result: Internal access without NAT
```

---

## NAT Rule Priority

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω–æ:** –ü–æ—Ä—è–¥–æ–∫ NAT –ø—Ä–∞–≤–∏–ª –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç, –∫–∞–∫–æ–µ –ø—Ä–∞–≤–∏–ª–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—Å—è –∫ —Ç—Ä–∞—Ñ–∏–∫—É.

```
Priority 1000: no_snat_to_internal    (–≤—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
Priority 1001: no_snat_to_vips
Priority 1002: snat_to_internet       (–Ω–∏–∑—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç)
```

**–õ–æ–≥–∏–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏:**
1. **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è** `no_snat_to_internal` ‚Äî –µ—Å–ª–∏ —Å–æ–≤–ø–∞–¥–∞–µ—Ç, –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è No-SNAT
2. **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è** `no_snat_to_vips` ‚Äî –µ—Å–ª–∏ —Å–æ–≤–ø–∞–¥–∞–µ—Ç, –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è No-SNAT
3. **–ü—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è** `snat_to_internet` ‚Äî catch-all –ø—Ä–∞–≤–∏–ª–æ, –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è SNAT

---

## Monitoring and Troubleshooting

### NAT Statistics
```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ NSX UI:
# Networking ‚Üí Tier-1 Gateways ‚Üí T1-k8s-zeon-dev ‚Üí NAT ‚Üí Rules
# –°–º–æ—Ç—Ä–µ—Ç—å –∫–æ–ª–æ–Ω–∫—É "Hits" –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –ø—Ä–∞–≤–∏–ª–∞

# –û–∂–∏–¥–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è:
# - no_snat_to_internal: 0-50 hits (–≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –≤—ã–∑–æ–≤—ã)
# - no_snat_to_vips: 0-100 hits (health checks)
# - snat_to_internet: 100+ hits (–∏–Ω—Ç–µ—Ä–Ω–µ—Ç —Ç—Ä–∞—Ñ–∏–∫)
```

### NAT Debug Commands
```bash
# –° k8s –Ω–æ–¥—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å SNAT:
curl ifconfig.me
# –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: 172.16.50.170

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å No-SNAT –∫ VIP:
curl -I http://172.16.50.200
# –î–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –±–µ–∑ –æ—à–∏–±–æ–∫

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å No-SNAT –∫ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º:
curl -I http://172.16.100.50
# –î–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å —Å –∏—Å—Ö–æ–¥–Ω—ã–º IP
```

### Traceflow Analysis
```bash
# NSX UI ‚Üí Plan & Troubleshoot ‚Üí Traceflow
# Source: 10.246.10.10
# Destination: 8.8.8.8
# –û–∂–∏–¥–∞–µ–º—ã–π –ø—É—Ç—å: VM ‚Üí T1 ‚Üí NAT ‚Üí T0 ‚Üí Internet
# –û–∂–∏–¥–∞–µ–º—ã–π SNAT: 10.246.10.10 ‚Üí 172.16.50.170
```

---

## Security Considerations

### NAT Security Benefits
- **–ò–∑–æ–ª—è—Ü–∏—è egress:** –í–µ—Å—å –∏—Å—Ö–æ–¥—è—â–∏–π —Ç—Ä–∞—Ñ–∏–∫ –º–∞—Å–∫–∏—Ä—É–µ—Ç—Å—è –≤ –æ–¥–∏–Ω IP
- **–£–ø—Ä–æ—â–µ–Ω–∏–µ firewall:** –ù–∞ –ø–µ—Ä–∏–º–µ—Ç—Ä–µ –Ω—É–∂–Ω–æ —Ä–∞–∑—Ä–µ—à–∏—Ç—å —Ç–æ–ª—å–∫–æ 172.16.50.170
- **–ê—É–¥–∏—Ç —Ç—Ä–∞—Ñ–∏–∫–∞:** –í—Å–µ egress-–¥–µ–π—Å—Ç–≤–∏—è –ª–æ–≥–∏—Ä—É—é—Ç—Å—è —Å –æ–¥–Ω–∏–º –∏—Å—Ö–æ–¥–Ω—ã–º IP

### NAT Security Risks
- **–ü–æ—Ç–µ—Ä—è –∏—Å—Ö–æ–¥–Ω–æ–≥–æ IP:** –î–ª—è –∏–Ω—Ç–µ—Ä–Ω–µ—Ç-—Ç—Ä–∞—Ñ–∏–∫–∞ —Ç–µ—Ä—è–µ—Ç—Å—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∏—Å—Ö–æ–¥–Ω–æ–º —É–∑–ª–µ
- **Hairpin –ø—Ä–æ–±–ª–µ–º—ã:** –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å –ø—Ä–æ–±–ª–µ–º—ã —Å –≤–æ–∑–≤—Ä–∞—Ç–Ω—ã–º —Ç—Ä–∞—Ñ–∏–∫–æ–º

### Best Practices
- **–ü–æ—Ä—è–¥–æ–∫ –ø—Ä–∞–≤–∏–ª:** No-SNAT –≤—Å–µ–≥–¥–∞ –≤—ã—à–µ SNAT
- **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥:** –†–µ–≥—É–ª—è—Ä–Ω–æ –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É NAT –ø—Ä–∞–≤–∏–ª
- **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:** –ü—Ä–æ–≤–µ—Ä—è—Ç—å –≤—Å–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ —Ç—Ä–∞—Ñ–∏–∫–∞ –ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π

---

## Backup and Recovery

### NAT Rules Export
```bash
# –≠–∫—Å–ø–æ—Ä—Ç NAT –ø—Ä–∞–≤–∏–ª –≤ NSX UI:
# Networking ‚Üí Tier-1 Gateways ‚Üí T1-k8s-zeon-dev ‚Üí NAT ‚Üí Export
# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤: nsx-configs/t1-k8s-zeon-dev-nat-rules.json
```

### NAT Rules Import
```bash
# –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ NAT –ø—Ä–∞–≤–∏–ª:
# Networking ‚Üí Tier-1 Gateways ‚Üí T1-k8s-zeon-dev ‚Üí NAT ‚Üí Import
# –ó–∞–≥—Ä—É–∑–∏—Ç—å –∏–∑: nsx-configs/t1-k8s-zeon-dev-nat-rules.json
```

---

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ Kubernetes Deployment

**NAT –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ —Å–ª–µ–¥—É—é—â–∏—Ö —ç—Ç–∞–ø–∞—Ö:**

1. **–≠—Ç–∞–ø 1.1 (Cluster Bootstrap):**
   - SNAT 172.16.50.170 –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –æ–±—Ä–∞–∑–æ–≤
   - No-SNAT –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ vCenter

2. **–≠—Ç–∞–ø 1.4 (MetalLB Setup):**
   - No-SNAT –∫ VIP –ø—É–ª—É 172.16.50.192/27
   - SNAT –¥–ª—è egress –æ—Ç LoadBalancer services

3. **–≠—Ç–∞–ø 1.5 (Ingress Setup):**
   - No-SNAT –∫ Ingress VIP –¥–ª—è health checks
   - SNAT –¥–ª—è egress –æ—Ç Ingress controller

---

## –ò–∑–º–µ–Ω–µ–Ω–∏—è –∏ –∞–ø–¥–µ–π—Ç—ã

| –î–∞—Ç–∞ | –ò–∑–º–µ–Ω–µ–Ω–∏–µ | –ê–≤—Ç–æ—Ä |
|------|-----------|-------|
| `2025-01-17` | –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ NAT –ø—Ä–∞–≤–∏–ª | `Ayrapetov_es` |
| | | |

---

## –ö–æ–Ω—Ç–∞–∫—Ç—ã

**NSX Admin:** `Ayrapetov_es` (–¥–ª—è –≤–æ–ø—Ä–æ—Å–æ–≤ –ø–æ NAT)
**Kubernetes Admin:** `Ayrapetov_es`

---

**–≠—Ç–æ—Ç –¥–æ–∫—É–º–µ–Ω—Ç ‚Äî –∏—Å—Ç–æ—á–Ω–∏–∫ –ø—Ä–∞–≤–¥—ã –¥–ª—è NAT –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ k8s –∫–ª–∞—Å—Ç–µ—Ä–∞.**
**–û–±–Ω–æ–≤–ª—è–π –µ–≥–æ –ø—Ä–∏ –ª—é–±—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö –≤ NAT –ø—Ä–∞–≤–∏–ª–∞—Ö!**
